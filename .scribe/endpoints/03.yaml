name: 'Data Retention Management'
description: ''
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: api/retention-settings-summary
    metadata:
      custom: []
      groupName: 'Data Retention Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get Retention Summary'
      description: |-
        Provides a quick overview of the active retention periods for key data types.
        Useful for dashboard widgets or compliance reporting.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "data": {
              "user_accounts": 90,
              "audit_logs": 365,
              "backups": 730
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/retention-settings/update-days
    metadata:
      custom: []
      groupName: 'Data Retention Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Update Retention Period (Quick Action)'
      description: |-
        A streamlined endpoint to quickly update the retention duration (days) for a specific data type.
        This is an alternative to the full update endpoint when only the day count needs changing.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      data_type:
        custom: []
        name: data_type
        description: "The data type (e.g., 'orphaned_media')."
        required: true
        example: orphaned_media
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      retention_days:
        custom: []
        name: retention_days
        description: 'Retention period in days.'
        required: true
        example: 90
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      data_type: orphaned_media
      retention_days: 90
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Retention days updated successfully",
            "data": {
              "data_type": "orphaned_media",
              "retention_days": 90
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/retention-settings
    metadata:
      custom: []
      groupName: 'Data Retention Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'List Retention Policies'
      description: |-
        Retrieves a detailed list of all configured data retention policies.
        These policies determine how long various types of data (e.g., logs, user history) are kept before being automatically purged.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      data_type:
        custom: []
        name: data_type
        description: 'Filter by data type.'
        required: false
        example: 0
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      data_type: 0
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "data": [
              {
                "id": 1,
                "data_type": "user_accounts",
                "retention_days": 90,
                "auto_delete": true,
                "description": "User account data retention",
                "updated_by": 1,
                "created_at": "2025-01-01T00:00:00Z",
                "updated_at": "2025-01-01T00:00:00Z"
              }
            ]
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: 'api/retention-settings/{retention_id}'
    metadata:
      custom: []
      groupName: 'Data Retention Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get Retention Policy Details'
      description: |-
        Retrieves the specific configuration for a single data retention policy.
        Includes information on retention duration, auto-delete status, and the administrator who last modified it.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      retention_id:
        custom: []
        name: retention_id
        description: 'The ID of the retention.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      retention:
        custom: []
        name: retention
        description: 'The retention setting ID'
        required: true
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanUrlParameters:
      retention_id: 1
      retention: architecto
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "data": {
              "id": 1,
              "data_type": "user_accounts",
              "retention_days": 90,
              "auto_delete": true,
              "description": "User account data retention",
              "updated_by": 1,
              "updated_by_user": {"username": "admin"}
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - PUT
    uri: 'api/retention-settings/{retention_id}'
    metadata:
      custom: []
      groupName: 'Data Retention Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Update Retention Policy'
      description: |-
        Modifies the parameters of an existing data retention policy.
        Allows administrators to change the retention period (in days), toggle automatic deletion, or update the policy description.
        All changes are audit-logged.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      retention_id:
        custom: []
        name: retention_id
        description: 'The ID of the retention.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      retention:
        custom: []
        name: retention
        description: 'The retention setting ID'
        required: true
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanUrlParameters:
      retention_id: 1
      retention: architecto
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      retention_days:
        custom: []
        name: retention_days
        description: 'Retention period in days.'
        required: true
        example: 90
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      auto_delete:
        custom: []
        name: auto_delete
        description: 'Enable/disable auto deletion.'
        required: false
        example: true
        type: boolean
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      description:
        custom: []
        name: description
        description: 'Description of the setting.'
        required: false
        example: 'User account data retention'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
    cleanBodyParameters:
      retention_days: 90
      auto_delete: true
      description: 'User account data retention'
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Retention setting updated successfully",
            "data": {
              "id": 1,
              "data_type": "user_accounts",
              "retention_days": 90,
              "auto_delete": true
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - GET
    uri: api/schedulers
    metadata:
      custom: []
      groupName: 'Data Retention Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'List Cleanup Schedules'
      description: |-
        Retrieves a list of all defined system maintenance schedules.
        Shows which commands are enabled, their frequency (e.g., daily), and the specific time they are set to execute.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "data": [
              {
                "command_name": "media:cleanup",
                "run_time": "03:00",
                "frequency": "daily",
                "enabled": true
              }
            ]
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/schedulers/update
    metadata:
      custom: []
      groupName: 'Data Retention Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Configure Cleanup Schedule'
      description: |-
        Configures the timing and frequency of automated cleanup commands.
        Allows administrators to determine exactly when system maintenance tasks (like purging old data) run to minimize impact on active users.
      authenticated: true
      deprecated: false
    headers:
      Authorization: 'Bearer {YOUR_AUTH_KEY}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      command_name:
        custom: []
        name: command_name
        description: "The command name (e.g., 'media:cleanup')."
        required: true
        example: 'media:cleanup'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      run_time:
        custom: []
        name: run_time
        description: 'Run time in HH:MM format.'
        required: true
        example: '03:00'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      frequency:
        custom: []
        name: frequency
        description: 'Frequency: daily, weekly, monthly, hourly.'
        required: false
        example: daily
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      enabled:
        custom: []
        name: enabled
        description: 'Enable/disable the scheduler.'
        required: false
        example: true
        type: boolean
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      command_name: 'media:cleanup'
      run_time: '03:00'
      frequency: daily
      enabled: true
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "success": true,
            "message": "Scheduler updated successfully",
            "data": {
              "command_name": "media:cleanup",
              "run_time": "03:00",
              "frequency": "daily",
              "enabled": true
            }
          }
        headers: []
        description: ''
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer 6g43cv8PD1aE5beadkZfhV6'
    controller: null
    method: null
    route: null
